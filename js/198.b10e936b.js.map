{"version":3,"file":"js/198.b10e936b.js","mappings":"yGAAO,SAASA,EAAOC,EAAKC,EAAKC,EAAMC,GAAa,GAKhD,OAAKF,GAAOA,EAAIG,KAAKJ,IAASG,EACnBD,EAAK,GAETA,EAAK,EAChB,C,oMCRSG,MAAM,e,UAETC,EAAAA,EAAAA,GAAa,UAAT,QAAI,K,GAULD,MAAM,S,UAETC,EAAAA,EAAAA,GAAc,UAAV,SAAK,K,GAWND,MAAM,S,0CAzBbE,EAAAA,EAAAA,IA2BQ,QA3BRC,EA2BQ,EA1BNF,EAAAA,EAAAA,GAUK,WATHG,GACAH,EAAAA,EAAAA,GAOK,qBANHA,EAAAA,EAAAA,GAKE,SAJAI,KAAK,OACLL,MAAM,c,qCACGM,EAAAA,KAAKC,MAAK,GAClBC,OAAI,oBAAEF,EAAAA,aAAAA,EAAAA,eAAAA,K,iBADEA,EAAAA,KAAKC,cAKpBN,EAAAA,EAAAA,GAA6C,MAA7CQ,GAA6C,QAAvBH,EAAAA,SAASC,OAAK,IACpCN,EAAAA,EAAAA,GAWK,WAVHS,GACAT,EAAAA,EAAAA,GAQK,qBAPHA,EAAAA,EAAAA,GAME,SALAI,KAAK,WACLL,MAAM,W,qCACGM,EAAAA,KAAKK,SAAQ,GACtBC,aAAa,MACZJ,OAAI,oBAAEF,EAAAA,gBAAAA,EAAAA,kBAAAA,K,iBAFEA,EAAAA,KAAKK,iBAMpBV,EAAAA,EAAAA,GAAgD,MAAhDY,GAAgD,QAA1BP,EAAAA,SAASK,UAAQ,IACvCV,EAAAA,EAAAA,GAAqE,SAA9DI,KAAK,SAASL,MAAM,cAAec,QAAK,oBAAER,EAAAA,OAAAA,EAAAA,SAAAA,IAAOS,MAAM,Q,qEAYlE,GACEC,QACE,IAAIC,GAAOC,EAAAA,EAAAA,IAAS,CAClBX,MAAO,GACPI,SAAU,KAERQ,GAAWD,EAAAA,EAAAA,IAAS,CACtBX,MAAO,GACPI,SAAU,KAERS,GAAQC,EAAAA,EAAAA,MAGZ,SAASC,IACPH,EAASZ,OAAQb,EAAAA,EAAAA,GACfuB,EAAKV,MACL,6DACA,CAAC,UAAW,KAGdY,EAASZ,OAAQb,EAAAA,EAAAA,GACfuB,EAAKV,MACL,EACA,CAAC,UAAWY,EAASZ,OACN,KAAfU,EAAKV,MAET,CAGA,SAASgB,IACPJ,EAASR,UAAWjB,EAAAA,EAAAA,GAClBuB,EAAKN,SACL,EACA,CAAC,SAAU,IACO,KAAlBM,EAAKN,SAET,CAGA,SAASa,IAGP,GAFAF,IACAC,IACIJ,EAASZ,OAASY,EAASR,SAAU,OACzC,IAAIc,EAAOC,KAAKC,UAAUV,GAC1BG,EACGQ,SAAS,mBAAoBH,GAC7BI,MAAMC,IACLC,EAAAA,EAAAA,KAAY,KACZC,EAAAA,GAAAA,QAAkBF,EAAI,IAEvBG,OAAOC,IACNF,EAAAA,GAAAA,MAAgBE,EAAI,GAE1B,CAEA,MAAO,CACLjB,OACAE,WACAG,cACAC,iBACAC,QAEJ,G,QC9FF,MAAMW,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://store/./src/modules/formverify.js","webpack://store/./src/pages/login/components/ByPassword.vue","webpack://store/./src/pages/login/components/ByPassword.vue?4f48"],"sourcesContent":["export function verify(str, reg, mess, expression = false) {\r\n    // reg：正则表达式； expression：表达式；mess：数组，验证结果\r\n    // 作用：验证表单输入str（字符串）是否正确，返回对应结果\r\n    // 正则表达式验证时，输入前三个参数\r\n    // expression验证时，reg输入0\r\n    if ((reg && reg.test(str)) || expression) {\r\n        return mess[1];\r\n    }\r\n    return mess[0];\r\n}","<template>\r\n  <table class=\"passwordTab\">\r\n    <tr>\r\n      <td>手机号：</td>\r\n      <td>\r\n        <input\r\n          type=\"text\"\r\n          class=\"phoneNumber\"\r\n          v-model=\"form.phone\"\r\n          @blur=\"verifyPhone\"\r\n        />\r\n      </td>\r\n    </tr>\r\n    <div class=\"false\">{{ errorMes.phone }}</div>\r\n    <tr>\r\n      <td>登录密码：</td>\r\n      <td>\r\n        <input\r\n          type=\"password\"\r\n          class=\"password\"\r\n          v-model=\"form.password\"\r\n          autocomplete=\"off\"\r\n          @blur=\"verifyPassword\"\r\n        />\r\n      </td>\r\n    </tr>\r\n    <div class=\"false\">{{ errorMes.password }}</div>\r\n    <input type=\"button\" class=\"loginButton\" @click=\"login\" value=\"登录\" />\r\n  </table>\r\n</template>\r\n\r\n<script>\r\nimport { reactive } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport router from \"@/router\";\r\nimport \"element-plus/es/components/message/style/css\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { verify } from \"@/modules/formverify\";\r\n\r\nexport default {\r\n  setup() {\r\n    let form = reactive({\r\n      phone: \"\",\r\n      password: \"\",\r\n    });\r\n    let errorMes = reactive({\r\n      phone: \"\",\r\n      password: \"\",\r\n    });\r\n    let store = useStore();\r\n\r\n    // 验证手机号\r\n    function verifyPhone() {\r\n      errorMes.phone = verify(\r\n        form.phone,\r\n        /^((1[3,5,8][0-9])|(14[5,7])|(17[0,5,6,7,8])|(19[7]))\\d{8}$/,\r\n        [\"手机号格式错误\", \"\"]\r\n      );\r\n\r\n      errorMes.phone = verify(\r\n        form.phone,\r\n        0,\r\n        [\"手机号不能为空\", errorMes.phone],\r\n        form.phone !== \"\"\r\n      );\r\n    }\r\n\r\n    // 验证密码\r\n    function verifyPassword() {\r\n      errorMes.password = verify(\r\n        form.password,\r\n        0,\r\n        [\"密码不能为空\", \"\"],\r\n        form.password !== \"\"\r\n      );\r\n    }\r\n\r\n    //登录\r\n    function login() {\r\n      verifyPhone();\r\n      verifyPassword();\r\n      if (errorMes.phone || errorMes.password) return;\r\n      let data = JSON.stringify(form);\r\n      store\r\n        .dispatch(\"user/loginByPass\", data)\r\n        .then((res) => {\r\n          router.push(\"/\");\r\n          ElMessage.success(res);\r\n        })\r\n        .catch((err) => {\r\n          ElMessage.error(err);\r\n        });\r\n    }\r\n\r\n    return {\r\n      form,\r\n      errorMes,\r\n      verifyPhone,\r\n      verifyPassword,\r\n      login,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style src=\"@/assets/less/loginForm.less\" lang=\"less\" scoped></style>","import { render } from \"./ByPassword.vue?vue&type=template&id=4a74ca9f&scoped=true\"\nimport script from \"./ByPassword.vue?vue&type=script&lang=js\"\nexport * from \"./ByPassword.vue?vue&type=script&lang=js\"\n\nimport \"@/assets/less/loginForm.less?vue&type=style&index=0&id=4a74ca9f&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\吴锦辉\\\\桌面文件\\\\案例\\\\store\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4a74ca9f\"]])\n\nexport default __exports__"],"names":["verify","str","reg","mess","expression","test","class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","type","$setup","phone","onBlur","_hoisted_3","_hoisted_4","password","autocomplete","_hoisted_5","onClick","value","setup","form","reactive","errorMes","store","useStore","verifyPhone","verifyPassword","login","data","JSON","stringify","dispatch","then","res","router","ElMessage","catch","err","__exports__","render"],"sourceRoot":""}