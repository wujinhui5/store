"use strict";(self["webpackChunkstore"]=self["webpackChunkstore"]||[]).push([[982],{8751:function(t,e,n){n.d(e,{B1:function(){return f},EL:function(){return v},Xd:function(){return p},aH:function(){return o},bx:function(){return r},c_:function(){return s},hq:function(){return l},jo:function(){return i},mL:function(){return c},pj:function(){return d},xZ:function(){return u},zJ:function(){return h}});var a=n(3872);function o(t){return(0,a.Z)({method:"post",url:"/get/shop/info",data:t})}function s(){return(0,a.Z)({method:"post",url:"/get/shops"})}function r(t){return(0,a.Z)({method:"post",url:"/get/shop/sort",data:t})}function l(){return(0,a.Z)({method:"post",url:"/get/slide"})}function u(t){return(0,a.Z)({method:"post",url:"/get/shop/car",data:t})}function i(t){return(0,a.Z)({method:"post",url:"/get/shop/delete",data:t})}function c(t){return(0,a.Z)({method:"post",url:"/get/shop/add",data:t})}function d(t){return(0,a.Z)({method:"post",url:"/get/settle",data:t})}function p(t){return(0,a.Z)({method:"post",url:"/get/order",data:t})}function f(t){return(0,a.Z)({method:"post",url:"/order/confirm",data:t})}function h(t){return(0,a.Z)({method:"post",url:"/order/refund",data:t})}function v(t){return(0,a.Z)({method:"post",url:"/order/cancal/refund",data:t})}},2569:function(t,e,n){n.d(e,{Z:function(){return N}});var a=n(3396);const o={class:"store-header"},s={class:"w"};function r(t,e,n,r,l,u){const i=(0,a.up)("AppLogo"),c=(0,a.up)("HeaderSearch"),d=(0,a.up)("HotWords"),p=(0,a.up)("ShopCarEntrance");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",s,[(0,a.Wm)(i),(0,a.Wm)(c),(0,a.Wm)(d),(0,a.Wm)(p)])])}var l=n(8084),u=n(1966),i=n(7139);const c=t=>((0,a.dD)("data-v-17cbaa92"),t=t(),(0,a.Cn)(),t),d=c((()=>(0,a._)("span",null,"我的购物车",-1)));function p(t,e,n,o,s,r){const l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.j4)(l,{class:"shop-car-entrance fr",to:"/shopcar"},{default:(0,a.w5)((()=>[d,(0,a._)("div",{class:"count",style:(0,i.j5)(o.style)},(0,i.zw)(o.num),5)])),_:1})}var f=n(65),h={setup(){let t=(0,f.oR)(),e=(0,a.Fl)((()=>"..."===n.value?{lineHeight:"7px"}:{})),n=(0,a.Fl)((()=>{let e=t.state.user.shopCarNum;return e>99&&(e="..."),e}));return{num:n,style:e}}},v=n(89);const m=(0,v.Z)(h,[["render",p],["__scopeId","data-v-17cbaa92"]]);var g=m;const _={class:"hot-words"},y=(0,a.uE)('<ul data-v-456d687f><li data-v-456d687f><a href="#" data-v-456d687f>搜索关键词</a></li><li data-v-456d687f><a href="#" data-v-456d687f>还用不了</a></li><li data-v-456d687f><a href="#" data-v-456d687f>9.9元团购</a></li><li data-v-456d687f><a href="#" data-v-456d687f>美满99减30</a></li><li data-v-456d687f><a href="#" data-v-456d687f>办公用品</a></li><li data-v-456d687f><a href="#" data-v-456d687f>电脑</a></li><li data-v-456d687f><a href="#" data-v-456d687f>通信</a></li></ul>',1),b=[y];function I(t,e,n,o,s,r){return(0,a.wg)(),(0,a.iD)("div",_,b)}var S={};const w=(0,v.Z)(S,[["render",I],["__scopeId","data-v-456d687f"]]);var Z=w,k={components:{AppLogo:l.Z,HeaderSearch:u.Z,ShopCarEntrance:g,HotWords:Z}};const j=(0,v.Z)(k,[["render",r],["__scopeId","data-v-2c3028ac"]]);var N=j},6093:function(t,e,n){n.r(e),n.d(e,{default:function(){return ot}});var a=n(3396);const o={class:"shop-page"},s={class:"shop-info clearfix"},r={class:"fl"},l={class:"fr"};function u(t,e,n,u,i,c){const d=(0,a.up)("TopNav"),p=(0,a.up)("AppHeader"),f=(0,a.up)("StoreNav"),h=(0,a.up)("ShopSlide"),v=(0,a.up)("ShopBaseInfo"),m=(0,a.up)("AppFooter");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(d),(0,a.Wm)(p),(0,a.Wm)(f),(0,a._)("div",s,[(0,a._)("div",r,[(0,a.Wm)(h,{imgUrls:u.shopData.shopImgUrls},null,8,["imgUrls"])]),(0,a._)("div",l,[(0,a.Wm)(v,{info:u.shopData.baseInfo},null,8,["info"])])]),(0,a.Wm)(m)])}var i=n(2252);const c={class:"store-nav"},d=(0,a.uE)('<div class="w" data-v-06d4e179><ul data-v-06d4e179><li data-v-06d4e179><a href="#" data-v-06d4e179>首页</a></li><li data-v-06d4e179><a href="#" data-v-06d4e179>全部商品</a></li></ul><div class="search" data-v-06d4e179><input type="text" data-v-06d4e179><button data-v-06d4e179>搜店内</button></div></div>',1),p=[d];function f(t,e,n,o,s,r){return(0,a.wg)(),(0,a.iD)("div",c,p)}var h={},v=n(89);const m=(0,v.Z)(h,[["render",f],["__scopeId","data-v-06d4e179"]]);var g=m,_=n(2569),y=n(7139);const b={class:"shop-slide"},I={class:"pic-container"},S={class:"pic-box",ref:"elPic"},w=["src"],Z={class:"list-box"},k={class:"list"},j=["onMouseenter"],N=["src"];function x(t,e,n,o,s,r){return(0,a.wg)(),(0,a.iD)("div",b,[(0,a._)("div",I,[(0,a._)("div",{class:"event",onMousemove:e[0]||(e[0]=t=>o.magnifyPic(t)),onMouseleave:e[1]||(e[1]=(...t)=>o.notMagnify&&o.notMagnify(...t))},null,32),(0,a._)("div",{class:"mask",style:(0,y.j5)(o.maskStyle),ref:"elMask"},null,4),(0,a._)("div",S,[(0,a._)("ul",{style:(0,y.j5)(o.slideStyle)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.shopImgUrls,((t,e)=>((0,a.wg)(),(0,a.iD)("li",{key:e},[(0,a._)("img",{src:t,alt:"图片"},null,8,w)])))),128))],4)],512),(0,a._)("div",{class:"bigger",style:(0,y.j5)(o.biggerStyle)},null,4)]),(0,a._)("div",Z,[(0,a._)("span",{class:(0,y.C_)("icon icon-cheveron-left "+(o.isActive.left?"active":"")),onClick:e[2]||(e[2]=t=>o.changePage(o.page.currentPage-1))},null,2),(0,a._)("div",k,[(0,a._)("ul",{style:(0,y.j5)(o.listStyle)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.shopImgUrls,((t,e)=>((0,a.wg)(),(0,a.iD)("li",{style:(0,y.j5)({border:o.border[e]}),key:e,onMouseenter:t=>o.chooseImg(e)},[(0,a._)("img",{src:t,alt:"图片"},null,8,N)],44,j)))),128))],4)]),(0,a._)("span",{class:(0,y.C_)("icon icon-cheveron-right "+(o.isActive.right?"active":"")),onClick:e[3]||(e[3]=t=>o.changePage(o.page.currentPage+1))},null,2)])])}n(7658);var P=n(4870),C={props:["imgUrls"],setup(t){(0,a.YP)((()=>t.imgUrls),(t=>{for(let n in t)e.push(t[n]);n.width=350*t.length+"px";for(let e in t)s.push("");r.pageNum=Math.ceil(t.length/5),l.background=`url(${t[0]}) no-repeat`}));let e=(0,P.qj)([]),n=(0,P.qj)({width:"",left:""}),o=(0,P.qj)({left:""}),s=(0,P.qj)([]),r=(0,P.qj)({pageNum:1,currentPage:1}),l=(0,P.qj)({background:"",display:"none",backgroundPosition:"",backgroundSize:"1750px 1750px"}),u=(0,P.qj)({display:"none",left:"0",top:"0"}),i=(0,a.Fl)((()=>({left:r.currentPage>1,right:r.currentPage<r.pageNum,a:t["imgUrls"]}))),c=(0,P.iH)(null),d=(0,P.iH)(null);function p(t){let e=t.offsetX-c.value.offsetWidth/2,n=t.offsetY-c.value.offsetHeight/2;function a(t){return t=t<0?0:t,t=t>250?250:t,t}e=a(e),n=a(n),u.display="block",l.display="block",u.left=e+"px",u.top=n+"px";let o=5;l.backgroundPosition=`${-e*o}px ${-n*o}px`}function f(){u.display="none",l.display="none"}function h(t){n.left=350*-t+"px";for(let e in s)s[e]="";s[t]="2px solid #c81623",l.background=`url(${e[t]}) no-repeat`}function v(t){t<1||t>r.pageNum||(r.currentPage=t,t!==r.pageNum?o.left=290*(1-r.currentPage)+"px":o.left=59*(1-r.currentPage)*(e.length%5)+"px")}return{shopImgUrls:e,slideStyle:n,listStyle:o,border:s,biggerStyle:l,maskStyle:u,page:r,elMask:c,elPic:d,isActive:i,chooseImg:h,changePage:v,magnifyPic:p,notMagnify:f}}};const D=(0,v.Z)(C,[["render",x],["__scopeId","data-v-295a68b1"]]);var H=D,U=n(9242);const W=t=>((0,a.dD)("data-v-77778242"),t=t(),(0,a.Cn)(),t),q={class:"shop-base-info"},M={class:"title"},A={class:"info-box"},z={class:"price-box"},T=W((()=>(0,a._)("span",null,"品 优 价",-1))),E=W((()=>(0,a._)("span",null,"￥",-1))),F={class:"price"},L={key:0,class:"discount"},B=W((()=>(0,a._)("span",null,"优 惠 券",-1))),J={class:"add-in-car"},K={class:"input-num fl"};function O(t,e,n,o,s,r){return(0,a.wg)(),(0,a.iD)("div",q,[(0,a._)("div",M,(0,y.zw)(n.info.title),1),(0,a._)("div",A,[(0,a._)("div",z,[T,E,(0,a._)("span",F,(0,y.zw)(n.info.price),1)]),n.info.discount?((0,a.wg)(),(0,a.iD)("div",L,[B,(0,a._)("span",null,(0,y.zw)(n.info.discount),1)])):(0,a.kq)("",!0)]),(0,a._)("div",J,[(0,a._)("div",K,[(0,a.wy)((0,a._)("input",{type:"text",class:"fl","onUpdate:modelValue":e[0]||(e[0]=t=>o.shop.num=t),onKeyup:e[1]||(e[1]=(...t)=>o.inspectNum&&o.inspectNum(...t))},null,544),[[U.nr,o.shop.num]]),(0,a._)("a",{href:"javascript:;",class:"add",onClick:e[2]||(e[2]=(...t)=>o.addNum&&o.addNum(...t)),style:(0,y.j5)(200===o.shop.num?{color:"#ccc",cursor:"not-allowed"}:{})},"+",4),(0,a._)("a",{href:"javascript:;",class:"minus",onClick:e[3]||(e[3]=(...t)=>o.minusNum&&o.minusNum(...t)),style:(0,y.j5)(1===o.shop.num?{color:"#ccc",cursor:"not-allowed"}:{})},"-",4)]),(0,a._)("a",{href:"javascript:;",class:"a-add-car fl",onClick:e[4]||(e[4]=(...t)=>o.addToShopCar&&o.addToShopCar(...t))},"加入购物车")])])}var Y=n(8751),$=n(7027),R=n(1120),X=n(65),V=(n(96),{props:["info"],setup(t){let e,n=(0,P.qj)({num:1});function o(t){return t=parseInt(t)?parseInt(t):1,t=t<1?1:t,t=t>200?200:t,t}function s(){e&&clearTimeout(e),e=setTimeout((()=>{n.num=o(n.num)}),1e3)}function r(){let t=o(n.num);n.num=t<200?t+1:t}function l(){let t=o(n.num);n.num=t>1?t-1:t}let u=(0,X.oR)(),i=(0,a.f3)("reload");function c(){u.state.user.phone||R.Z.push("/login");let e=JSON.stringify({phone:u.state.user.phone,shopId:t.info.shopId,num:n.num});(0,Y.mL)(e).then((t=>{let e=JSON.parse(t.data);999===e.meta.status||(998===e.meta.status?($.z8.error(e.meta.msg),i()):($.z8.success(e.meta.msg),e.data&&u.commit("user/SET_SHOPCARNUM",e.data),R.Z.push("/shopcar")))}))}return{...(0,P.BK)(t),shop:n,inspectNum:s,addNum:r,minusNum:l,addToShopCar:c}}});const G=(0,v.Z)(V,[["render",O],["__scopeId","data-v-77778242"]]);var Q=G,tt=n(8657),et=n(2483),nt={components:{TopNav:i.Z,AppHeader:_.Z,AppFooter:tt.Z,StoreNav:g,ShopSlide:H,ShopBaseInfo:Q},setup(){let t=(0,P.qj)({shopImgUrls:[],baseInfo:{storeId:"",shopId:"",title:"",price:"",discount:""}}),e=1;function n(){let e=new et.yj;(0,Y.aH)({shopId:e.query.shopId}).then((e=>{let n=JSON.parse(e.data);if(200===n.meta.status){t.shopImgUrls=n.data.shopImgUrls;for(let e in t.baseInfo)t.baseInfo[e]=n.data[e];document.title=t.baseInfo.title}else console.log("获取失败")})).catch((t=>{console.log(t)}))}return n(),{shopData:t,data:e}}};const at=(0,v.Z)(nt,[["render",u],["__scopeId","data-v-2bf58f93"]]);var ot=at}}]);
//# sourceMappingURL=982.3d846d71.js.map