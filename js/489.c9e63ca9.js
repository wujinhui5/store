"use strict";(self["webpackChunkstore"]=self["webpackChunkstore"]||[]).push([[489],{5444:function(e,n,o){function t(e,n,o,t=!1){return n&&n.test(e)||t?o[1]:o[0]}o.d(n,{T:function(){return t}})},4155:function(e,n,o){o.r(n),o.d(n,{default:function(){return w}});var t=o(3396),s=o(9242),l=o(7139);const d=e=>((0,t.dD)("data-v-b1d3aa70"),e=e(),(0,t.Cn)(),e),r={class:"by-phone-code"},u=d((()=>(0,t._)("td",null,"手机号：",-1))),i={class:"container"},c={class:"false"},a=d((()=>(0,t._)("td",null,"验证码：",-1))),p=["disabled","value"],f={class:"false"};function h(e,n,o,d,h,b){return(0,t.wg)(),(0,t.iD)("table",r,[(0,t._)("tr",null,[u,(0,t._)("td",i,[(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>d.form.phone=e),onBlur:n[1]||(n[1]=(...e)=>d.verifyPhone&&d.verifyPhone(...e))},null,544),[[s.nr,d.form.phone]])])]),(0,t._)("div",c,(0,l.zw)(d.errorMes.phone),1),(0,t._)("tr",null,[a,(0,t._)("td",null,[(0,t.wy)((0,t._)("input",{class:"input-code","onUpdate:modelValue":n[2]||(n[2]=e=>d.form.code=e),onFocus:n[3]||(n[3]=(...e)=>d.verifyCode&&d.verifyCode(...e))},null,544),[[s.nr,d.form.code]]),(0,t._)("input",{type:"button",class:"send-code",style:(0,l.j5)(d.buttonStyle),disabled:d.sendCodeAbout.isDisabled,onClick:n[4]||(n[4]=(...e)=>d.sendMail&&d.sendMail(...e)),value:d.sendCodeAbout.tip},null,12,p)])]),(0,t._)("div",f,(0,l.zw)(d.errorMes.code),1),(0,t._)("input",{type:"button",class:"loginButton",onClick:n[5]||(n[5]=(...e)=>d.login&&d.login(...e)),value:"登录"})])}o(7658);var b=o(4870),v=o(65),y=o(1120),_=(o(96),o(7027)),C=o(5444),g={setup(){let e=(0,b.qj)({phone:"",code:""}),n=(0,b.qj)({phone:"",code:""}),o=(0,b.qj)({isDisabled:!1,tip:"发送验证码"});function t(){n.phone=(0,C.T)(e.phone,/^((1[3,5,8][0-9])|(14[5,7])|(17[0,5,6,7,8])|(19[7]))\d{8}$/,["手机号格式错误",""]),n.phone=(0,C.T)(e.phone,0,["手机号不能为空",n.phone],""!=e.phone)}let s=!1;function l(){n.code=(0,C.T)(e.code,0,["验证码不能为空",""],""!=e.code),n.code=(0,C.T)(e.code,0,["请先发送手机验证码",n.code],s)}let d=(0,b.qj)({}),r=(0,v.oR)();function u(){if(n.phone||!e.phone)return void t();o.isDisabled=!0,d.cursor="not-allowed",d.background="#c95960";let l=61,r=setInterval((()=>{if(l--,o.tip=["剩余",l,"秒"].join(""),!l)return o.tip="发送验证码",o.isDisabled=!1,d.cursor="",d.background="",void clearInterval(r)}),1e3);_.z8.success("验证码为：123456"),s=!0}function i(){if(t(),l(),n.phone||n.code)return;let o=JSON.stringify(e);r.dispatch("user/loginByCode",o).then((e=>{y.Z.push("/"),_.z8.success(e)})).catch((e=>{998===e.status?n.phone=e.msg:n.code=e.msg}))}return{form:e,errorMes:n,sendCodeAbout:o,buttonStyle:d,verifyPhone:t,verifyCode:l,sendMail:u,login:i}}},m=o(89);const k=(0,m.Z)(g,[["render",h],["__scopeId","data-v-b1d3aa70"]]);var w=k}}]);
//# sourceMappingURL=489.c9e63ca9.js.map